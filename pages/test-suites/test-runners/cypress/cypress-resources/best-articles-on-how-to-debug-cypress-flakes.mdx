# Best articles on how to debug Cypress flakes

Here’s a collection of articles we’ve found helpful when trying to understand why flakes occur and how to write more resilient tests.

---

### [8 Common mistakes in Cypress](https://filiphric.com/8-common-mistakes-in-cypress-and-how-to-avoid-them)

**By Filip Hric**

1. **[Using explicit waiting](https://filiphric.com/8-common-mistakes-in-cypress-and-how-to-avoid-them#1-using-explicit-waiting)**
2. **[Using unreadable selectors](https://filiphric.com/8-common-mistakes-in-cypress-and-how-to-avoid-them#2-using-unreadable-selectors)**
3. **[Selecting elements improperly](https://filiphric.com/8-common-mistakes-in-cypress-and-how-to-avoid-them#3-selecting-elements-improperly)**
4. **[Ignoring requests in your app](https://filiphric.com/8-common-mistakes-in-cypress-and-how-to-avoid-them#4-ignoring-requests-in-your-app)**
5. **[Overlooking DOM re-rendering](https://filiphric.com/8-common-mistakes-in-cypress-and-how-to-avoid-them#5-overlooking-dom-re-rendering)**
6. **[Creating inefficient command chains](https://filiphric.com/8-common-mistakes-in-cypress-and-how-to-avoid-them#6-creating-inefficient-command-chains)**
7. **[Overusing UI](https://filiphric.com/8-common-mistakes-in-cypress-and-how-to-avoid-them#7-overusing-ui)**
8. **[Repeating the same set of actions](https://filiphric.com/8-common-mistakes-in-cypress-and-how-to-avoid-them#8-repeating-the-same-set-of-actions)**

### [Identifying code smells in Cypress](../../Cypress.md)

**By [Josh Justice](https://codingitwrong.com/)**

**1. Unprepared Element**

**2. Flickering Element**

**3. Impatient Test**

### [Ways of fixing flaky tests](https://kailash-pathak.medium.com/ways-of-fixing-flaky-tests-in-cypress-840329d759e5)

Kailash Pathak

***1. Adding.Exist,.visible before Clicking on the element***

***2. Test Retries***

***3. Use timeouts instead of waits***

***4. Use cy. intercept() to wait for the XHR request to finish execution.***

### **[3 Practices to Reduce Flakiness](https://spin.atomicobject.com/2021/07/20/reduce-flakiness-cypress-tests/)**

By Jori Gelbaugh

1. **Reduce Inconsistent Interactions in the DOM**
2. **Reduce Inconsistency in Requests**

### **[Getting Rid Of A Living Nightmare In Testing](https://www.smashingmagazine.com/2021/04/flaky-tests-living-nightmare/)**

By [Ramona Schwering](https://www.smashingmagazine.com/author/ramona-schwering/)

Causes

**1. TEST-SIDE CAUSES** 

**2. ENVIRONMENT-SIDE CAUSES** 

**3. PRODUCT-SIDE CAUSES** 

**Ways To Fight Flakiness** 

1. **FOCUS ON YOUR TEAM [#](https://www.smashingmagazine.com/2021/04/flaky-tests-living-nightmare/#focus-on-your-team)**
2. **KEEP TESTS ISOLATED [#](https://www.smashingmagazine.com/2021/04/flaky-tests-living-nightmare/#keep-tests-isolated)**
3. **FURTHER OPTIMIZE THE TEST STRUCTURE [#](https://www.smashingmagazine.com/2021/04/flaky-tests-living-nightmare/#further-optimize-the-test-structure)**
4. **WAIT! TEST RETRIES ARE SOMETIMES OK? [#](https://www.smashingmagazine.com/2021/04/flaky-tests-living-nightmare/#wait-test-retries-are-sometimes-ok)**
5. **USING DYNAMIC WAITING TIMES [#](https://www.smashingmagazine.com/2021/04/flaky-tests-living-nightmare/#using-dynamic-waiting-times)**

**SPOTTING THE RED FLAGS [#](https://www.smashingmagazine.com/2021/04/flaky-tests-living-nightmare/#spotting-the-red-flags)**

- The test is large and contains a lot of logic.
- The test covers a lot of code (for example, in UI tests).
- The test makes use of fixed waiting times.
- The test depends on previous tests.
- The test asserts data that is not 100% predictable, such as the use of IDs, times, or demo data, especially randomly generated ones.

### **Methods for identifying and dealing with flaky tests**

by Jason Palmer

**Causes of flakiness**

There are many causes of flakiness but the few I highlight in my talk are:

1. **Inconsistent assertion timing** – when your application state is not consistent between test runs you will notice that expect/assert statements fail randomly. The fix for this is to construct tests so that you wait for the application to be in a consistent state before asserting. I am not talking about “wait” statements either. You should have predicates in place to poll the application state until it reaches a known good state where you can assert.
2. **Reliance on test order** – global state is the main culprit that causes tests to be reliant on other tests. If you see that you cannot run a test in isolation and it only passes when the whole suite is run then you have this problem. The solution is to entirely reset the state between each test run and reduce the need for global state.

**Flakybot**

So we have the tools to tell you which tests are flaky, but how will an engineer know they have fixed the flakiness problem? This is why we created Flakybot. This is an internal tool at Spotify to help engineers determine if their test(s) are flaky before merging code to master.